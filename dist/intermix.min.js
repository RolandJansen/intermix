(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require=="function"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error("Cannot find module '"+o+"'");throw f.code="MODULE_NOT_FOUND",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require=="function"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(_dereq_,module,exports){
"use strict";var Intermix=_dereq_("./core.js")||{};Intermix.SoundWave=_dereq_("./SoundWave.js"),Intermix.Sound=_dereq_("./Sound.js"),module.exports=Intermix;
},{"./Sound.js":2,"./SoundWave.js":3,"./core.js":4}],2:[function(_dereq_,module,exports){
"use strict";var Sound=function(t,o){if(this.audioCtx=null,this.buffer=null,this.bufferSource=null,this.loop=!1,this.isPaused=!1,this.gainNode=null,this.pannerNode=null,this.soundLength=0,this.startOffset=0,this.startTime=0,this.loopStart=0,this.loopEnd=null,!o||!t)throw new Error("Error initialising Sound object: parameter missing.");this.audioCtx=t,this.buffer=o,this.soundLength=this.loopEnd=o.duration,this.setupAudioChain()};Sound.prototype.setupAudioChain=function(){this.gainNode=this.audioCtx.createGain(),this.pannerNode=this.audioCtx.createStereoPanner(),this.gainNode.connect(this.pannerNode),this.pannerNode.connect(this.audioCtx.destination),this.gainNode.gain.value=1,console.log("audiochain ready")},Sound.prototype.createBufferSource=function(){var t=this;this.bufferSource=this.audioCtx.createBufferSource(),this.bufferSource.buffer=this.buffer,this.bufferSource.connect(this.gainNode),this.bufferSource.onended=function(){console.log("onended fired"),t.destroyBufferSource()}},Sound.prototype.destroyBufferSource=function(){null!==this.bufferSource&&(this.bufferSource.disconnect(),this.bufferSource=null,console.log("BufferSourceNode destroyed"))},Sound.prototype.play=function(t,o){"undefined"!=typeof t&&(this.loop=t),o?(console.log("set time: "+o),this.startTime=o):this.startTime=this.audioCtx.currentTime,this.createBufferSource(),this.bufferSource.loop=this.loop,this.loop&&(this.bufferSource.loopStart=this.loopStart,this.bufferSource.loopEnd=this.loopEnd),this.bufferSource.start(this.startTime,this.startOffset),this.startOffset=0},Sound.prototype.stop=function(t){t&&(this.startOffset=this.audioCtx.currentTime-this.startTime,this.paused=!1),null!==this.bufferSource&&this.bufferSource.stop()},Sound.prototype.pause=function(){this.isPaused=!0,this.stop(this.isPaused)},Sound.prototype.setLoopStart=function(t){this.loopStart=t*this.soundLength,this.bufferSource.loopStart=this.loopStart},Sound.prototype.setLoopEnd=function(t){this.loopEnd=t*this.soundLength,this.bufferSource.loopEnd=this.loopEnd},Sound.prototype.resetLoop=function(){this.loopStart=0,this.loopEnd=this.soundLength},Sound.prototype.setFrequency=function(t){this.bufferSource.playbackRate.value=t},Sound.prototype.getFrequency=function(){return this.bufferSource.playbackRate.value},Sound.prototype.setTone=function(t){this.bufferSource.detune.value=100*t},Sound.prototype.getTone=function(){return this.bufferSource.detune.value},Sound.prototype.getUID=function(){return Math.random().toString().substr(2,8)},module.exports=Sound;
},{}],3:[function(_dereq_,module,exports){
"use strict";var SoundWave=function(o,t,u){this.audioCtx=null,this.buffer=null,o?this.audioCtx=o:console.log("No AudioContext found");var e=this;t&&this.audioCtx.decodeAudioData(t).then(function(o){e.buffer=o,console.log("buffer created")})};module.exports=SoundWave;
},{}],4:[function(_dereq_,module,exports){
"use strict";var audioCtx=null;!function(){window.AudioContext=window.AudioContext||window.webkitAudioContext,window.AudioContext&&(audioCtx=new window.AudioContext)}(),module.exports={audioCtx:audioCtx};
},{}]},{},[1])


//# sourceMappingURL=dist/intermix.map.json